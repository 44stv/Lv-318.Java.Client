<app-back-to-previous-page-btn></app-back-to-previous-page-btn>
<div class="mat-elevation-z8">
  <div class="row">
    <div class="col-xs-6">
      <mat-form-field>
        <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Filter">
      </mat-form-field>
    </div>
    <div class="col-xs-6">
      <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>
    </div>
  </div>

  <mat-table [dataSource]="dataSource" matSort>

    <ng-container matColumnDef="categoryIcon">
      <mat-header-cell *matHeaderCellDef mat-sort-header> Category </mat-header-cell>
      <mat-cell *matCellDef="let transit"> <img height="32" width="32" src="{{ categoryIconURL }}{{ transit.categoryIconURL }}"></mat-cell>
    </ng-container>

    <ng-container matColumnDef="name">
      <mat-header-cell *matHeaderCellDef mat-sort-header> Name </mat-header-cell>
      <mat-cell *matCellDef="let transit"> {{ transit.name }} </mat-cell>
    </ng-container>

    <ng-container matColumnDef="routeName">
      <mat-header-cell *matHeaderCellDef mat-sort-header> Route </mat-header-cell>
      <mat-cell *matCellDef="let transit"> {{ transit.routeName }} </mat-cell>
    </ng-container>

    <ng-container matColumnDef="averageRate">
      <mat-header-cell *matHeaderCellDef mat-sort-header> Average rate </mat-header-cell>
      <mat-cell *matCellDef="let transit">
        <star-rating
          [starType]="'svg'"
          [rating]="averageRateArray.get(transit.id) / 2"
          [showHalfStars]="true"
          [readOnly]="true"
        ></star-rating>
      </mat-cell>
    </ng-container>

    <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
    <mat-row *matRowDef="let row; columns: displayedColumns; let transit;"
             [routerLink]="['/show-transit-scheme', transit.categoryId,
             transit.id, transit.name]"></mat-row>
  </mat-table>

</div>
<!--<div class="AddTransit">-->
<!--<h2 class="mat-h2">Add transit</h2>-->
<!--<form class="Test" (ngSubmit)="onSubmit()" #myForm="ngForm">-->
<!--<table class="Test" cellspacing="0">-->
<!--<tr>-->
<!--<td>-->
<!--<mat-form-field class="Name">-->
<!--<input matInput placeholder="Name" id="name" [(ngModel)]="transit.name" name="name">-->
<!--</mat-form-field>-->
<!--</td>-->
<!--<td>-->
<!--<mat-form-field class="Category">-->
<!--<input matInput placeholder="Category id" type="number" [(ngModel)]="transit.categoryId" name="category.id">-->
<!--</mat-form-field>-->
<!--</td>-->
<!--</tr>-->
<!--</table>-->
<!--<button mat-stroked-button type="submit">Submit</button>-->
<!--</form>-->
<!--</div>-->

